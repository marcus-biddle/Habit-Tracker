import{c as F}from"./createLucideIcon-B0bOrvaQ.js";import{s as f}from"./AuthContext-CaC8Ux1v.js";import{r as i,j as o}from"./catchall-DnhblMTB.js";import{u as b,c as g}from"./utils-CXVXd1Lc.js";import{c as _,R as L,T as q,W as z,C as G,a as W,b as V,D as Y,d as y,P as U,O as J}from"./index-DeenmED4.js";import{b as j,B as K}from"./button-DRdsxmUd.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],He=F("check",Q),Be=async e=>{const{data:t,error:r}=await f.from("habits").upsert([e],{onConflict:"user_id,name"}).select();if(r)throw console.error("Error inserting/updating habit:",r.message),r;console.log("Inserted or updated habit:",t)};async function ke(e){const{data:t,error:r}=await f.from("habits").select("*").eq("user_id",e);return r&&console.error("Error fetching habits:",r.message),t??[]}async function Fe(e){const{data:t,error:r}=await f.from("habit_entries").insert([{user_id:e.user_id,habit_id:e.habit_id,value:e.value,entry_date:e.entry_date,notes:e.notes??null}]);if(r)throw r;return t}async function Le(e,t){const{data:r,error:a}=await f.from("habit_entries").select("*").eq("user_id",e).eq("habit_id",t);return a?(console.error("Error fetching filtered habit entries:",a),[]):r??[]}async function qe(e){const{data:t,error:r}=await f.from("habit_entries").delete().in("id",e);r?console.error("Delete error:",r):console.log("Deleted entries",t)}async function ze(e){const{data:t,error:r}=await f.from("habits").delete().in("id",e);r?console.error("Delete error:",r):console.log("Deleted entries",t)}async function Ge(e){const{data:t,error:r}=await f.rpc("get_habit_name_by_id",{habit_id:e}).single();return r?(console.error("Error fetching habit name:",r.message),null):t}function X(e,t=[]){let r=[];function a(l,n){const c=i.createContext(n),d=r.length;r=[...r,n];const u=x=>{const{scope:v,children:D,...A}=x,B=v?.[e]?.[d]||c,k=i.useMemo(()=>A,Object.values(A));return o.jsx(B.Provider,{value:k,children:D})};u.displayName=l+"Provider";function h(x,v){const D=v?.[e]?.[d]||c,A=i.useContext(D);if(A)return A;if(n!==void 0)return n;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[u,h]}const s=()=>{const l=r.map(n=>i.createContext(n));return function(c){const d=c?.[e]||l;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return s.scopeName=e,[a,Z(s,...t)]}function Z(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(l){const n=a.reduce((c,{useScope:d,scopeName:u})=>{const x=d(l)[`__scope${u}`];return{...c,...x}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}var ee=Symbol("radix.slottable");function te(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=ee,t}var N="AlertDialog",[re,We]=X(N,[_]),p=_(),C=e=>{const{__scopeAlertDialog:t,...r}=e,a=p(t);return o.jsx(L,{...a,...r,modal:!0})};C.displayName=N;var oe="AlertDialogTrigger",E=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=p(r);return o.jsx(q,{...s,...a,ref:t})});E.displayName=oe;var ae="AlertDialogPortal",S=e=>{const{__scopeAlertDialog:t,...r}=e,a=p(t);return o.jsx(U,{...a,...r})};S.displayName=ae;var se="AlertDialogOverlay",w=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=p(r);return o.jsx(J,{...s,...a,ref:t})});w.displayName=se;var m="AlertDialogContent",[ne,ie]=re(m),le=te("AlertDialogContent"),P=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,l=p(r),n=i.useRef(null),c=b(t,n),d=i.useRef(null);return o.jsx(z,{contentName:m,titleName:R,docsSlug:"alert-dialog",children:o.jsx(ne,{scope:r,cancelRef:d,children:o.jsxs(G,{role:"alertdialog",...l,...s,ref:c,onOpenAutoFocus:W(s.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(le,{children:a}),o.jsx(de,{contentRef:n})]})})})});P.displayName=m;var R="AlertDialogTitle",T=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=p(r);return o.jsx(V,{...s,...a,ref:t})});T.displayName=R;var O="AlertDialogDescription",$=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=p(r);return o.jsx(Y,{...s,...a,ref:t})});$.displayName=O;var ce="AlertDialogAction",I=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=p(r);return o.jsx(y,{...s,...a,ref:t})});I.displayName=ce;var M="AlertDialogCancel",H=i.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=ie(M,r),l=p(r),n=b(t,s);return o.jsx(y,{...l,...a,ref:n})});H.displayName=M;var de=({contentRef:e})=>{const t=`\`${m}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${m}\` by passing a \`${O}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${m}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ue=C,pe=E,ge=S,fe=w,me=P,xe=I,Ae=H,ve=T,De=$;function he({...e}){return o.jsx(ue,{"data-slot":"alert-dialog",...e})}function be({...e}){return o.jsx(pe,{"data-slot":"alert-dialog-trigger",...e})}function _e({...e}){return o.jsx(ge,{"data-slot":"alert-dialog-portal",...e})}function ye({className:e,...t}){return o.jsx(fe,{"data-slot":"alert-dialog-overlay",className:g("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function je({className:e,...t}){return o.jsxs(_e,{children:[o.jsx(ye,{}),o.jsx(me,{"data-slot":"alert-dialog-content",className:g("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Ne({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:g("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ce({className:e,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:g("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Ee({className:e,...t}){return o.jsx(ve,{"data-slot":"alert-dialog-title",className:g("text-lg font-semibold",e),...t})}function Se({className:e,...t}){return o.jsx(De,{"data-slot":"alert-dialog-description",className:g("text-muted-foreground text-sm",e),...t})}function we({className:e,...t}){return o.jsx(xe,{className:g(j(),e),...t})}function Pe({className:e,...t}){return o.jsx(Ae,{className:g(j({variant:"outline"}),e),...t})}function Ve({buttonText:e,type:t=void 0,disabled:r=!1,variant:a,dialogTitle:s="Are you absolutely sure?",dialingDesc:l,onContinue:n}){return o.jsxs(he,{children:[o.jsx(be,{asChild:!0,children:o.jsx(K,{disabled:r,variant:a,className:"w-full",children:e})}),o.jsxs(je,{children:[o.jsxs(Ne,{children:[o.jsx(Ee,{children:s}),o.jsx(Se,{children:l})]}),o.jsxs(Ce,{children:[o.jsx(Pe,{children:"Cancel"}),o.jsx(we,{onClick:()=>n(),children:"Continue"})]})]})]})}export{Ve as A,He as C,Be as a,Ge as b,qe as c,ze as d,Fe as e,Le as f,ke as g};
