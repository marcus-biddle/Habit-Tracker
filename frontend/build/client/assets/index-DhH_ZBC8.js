import{c as i,s}from"./createLucideIcon-CEFgt_Ga.js";import{r as o}from"./catchall-DRODuvbv.js";const n=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],u=i("check",n),f=async e=>{const{data:t,error:r}=await s.from("habits").upsert([e],{onConflict:"user_id,name"}).select();if(r)throw console.error("Error inserting/updating habit:",r.message),r;console.log("Inserted or updated habit:",t)};async function l(e){const{data:t,error:r}=await s.from("habits").select("*").eq("user_id",e);return r&&console.error("Error fetching habits:",r.message),t??[]}async function h(e){const{data:t,error:r}=await s.from("habit_entries").insert([{user_id:e.user_id,habit_id:e.habit_id,value:e.value,entry_date:e.entry_date,notes:e.notes??null}]);if(r)throw r;return t}async function b(e,t){const{data:r,error:a}=await s.from("habit_entries").select("*").eq("user_id",e).eq("habit_id",t);return a?(console.error("Error fetching filtered habit entries:",a),[]):r??[]}async function m(e){const{data:t,error:r}=await s.from("habit_entries").delete().in("id",e);r?console.error("Delete error:",r):console.log("Deleted entries",t)}async function g(e){const{data:t,error:r}=await s.from("habits").delete().in("id",e);r?console.error("Delete error:",r):console.log("Deleted entries",t)}async function _(e){const{data:t,error:r}=await s.rpc("get_habit_name_by_id",{habit_id:e}).single();return r?(console.error("Error fetching habit name:",r.message),null):t}async function p(e,t){const{data:r,error:a}=await s.from("habits").update(t).eq("id",e).select();if(a)throw console.error("Error updating habit:",a.message),a;return r?.[0]}async function w(e,t){const{data:r,error:a}=await s.from("habits").update(t).in("id",e).select();if(a)throw console.error("Error updating habits:",a.message),a;return r}function y(e){const t=o.useRef({value:e,previous:e});return o.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}export{u as C,_ as a,f as b,w as c,m as d,g as e,b as f,l as g,p as h,h as i,y as u};
